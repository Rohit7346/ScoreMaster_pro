<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScoreMaster</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #0a0e17;
            --secondary-dark: #141a2a;
            --card-dark: #1a2238;
            --accent-green: #00ff8b;
            --accent-green-dark: #00cc6f;
            --text-primary: #ffffff;
            --text-secondary: #b0b7cb;
            --text-muted: #6c748a;
            --border-color: #2a3655;
            --success: #00c853;
            --warning: #ff9800;
            --danger: #f44336;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 8px;
            --mobile-breakpoint: 768px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--primary-dark);
            color: var(--text-primary);
            line-height: 1.5;
            overflow-x: hidden;
            font-size: 14px;
            height: 100vh;
            overflow: hidden;
        }
        
        /* Splash Screen */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeOut 0.8s ease 2s forwards;
        }
        
        .splash-logo {
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
            font-size: 2.5rem;
            color: var(--accent-green);
            display: flex;
            align-items: center;
            gap: 12px;
            opacity: 0;
            transform: scale(0.9);
            animation: logoReveal 1s ease 0.3s forwards;
        }
        
        .splash-logo i {
            font-size: 2.8rem;
            animation: trophyFloat 2s ease-in-out infinite;
        }
        
        @keyframes logoReveal {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes trophyFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; }
        }
        
        /* Main App */
        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Top Navigation */
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background-color: var(--secondary-dark);
            border-bottom: 1px solid var(--border-color);
        }
        
        .tournament-info {
            display: flex;
            flex-direction: column;
        }
        
        .tournament-name {
            font-weight: 600;
            font-size: 1rem;
            color: var(--accent-green);
        }
        
        .match-info {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .nav-controls {
            display: flex;
            gap: 12px;
        }
        
        .nav-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--card-dark);
            border: 1px solid var(--border-color);
            color: var(--accent-green);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .nav-btn:hover {
            background-color: rgba(0, 255, 139, 0.1);
            transform: translateY(-2px);
        }
        
        .live-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #f44336;
        }
        
        .live-pulse {
            width: 8px;
            height: 8px;
            background-color: #f44336;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cricket Scoring Layout - Minimal Design */
        .cricket-score-container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* Team Score Display - Prominent */
        .team-score-display {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
            text-align: center;
            animation: subtleSlideIn 0.4s ease;
        }
        
        @keyframes subtleSlideIn {
            from { opacity: 0.8; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .batting-team-name {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 4px;
            font-weight: 500;
        }
        
        .team-score-main {
            display: flex;
            justify-content: center;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .team-runs {
            font-size: 3rem;
            font-weight: 900;
            color: var(--text-primary);
            line-height: 1;
        }
        
        .team-wickets {
            font-size: 1.8rem;
            color: var(--danger);
            font-weight: 700;
        }
        
        .team-overs {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .target-display {
            font-size: 0.9rem;
            color: var(--accent-green);
            margin-top: 8px;
            font-weight: 600;
            animation: subtlePulse 2s ease infinite;
        }
        
        @keyframes subtlePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Batters Display */
        .batters-container {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }
        
        .section-title {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .batter-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .batter-row:last-child {
            border-bottom: none;
        }
        
        .batter-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .strike-indicator {
            width: 6px;
            height: 6px;
            background-color: var(--accent-green);
            border-radius: 50%;
            animation: subtleBlink 2s infinite;
        }
        
        @keyframes subtleBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .batter-name {
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .batter-stats {
            text-align: right;
        }
        
        .batter-runs {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .batter-details {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Bowler Display */
        .bowler-container {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }
        
        .bowler-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .bowler-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bowler-name {
            font-weight: 600;
            font-size: 0.95rem;
        }
        
        .bowler-over-balls {
            display: flex;
            gap: 4px;
            margin-top: 8px;
        }
        
        .over-ball {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .over-ball.filled {
            background-color: rgba(0, 255, 139, 0.15);
            border: 1px solid var(--accent-green);
            color: var(--accent-green);
        }
        
        .over-ball.empty {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            color: var(--text-muted);
        }
        
        .over-ball.wicket {
            background-color: rgba(244, 67, 54, 0.15);
            border: 1px solid var(--danger);
            color: var(--danger);
        }
        
        .over-ball.four {
            background-color: rgba(255, 193, 7, 0.15);
            border: 1px solid #ffc107;
            color: #ffc107;
        }
        
        .over-ball.six {
            background-color: rgba(255, 87, 34, 0.15);
            border: 1px solid #ff5722;
            color: #ff5722;
        }
        
        .bowler-stats {
            text-align: right;
        }
        
        .bowler-figures {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .bowler-economy {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Scoring Controls */
        .scoring-controls {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px;
            border: 1px solid var(--border-color);
        }
        
        .controls-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .score-btn {
            height: 48px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--secondary-dark);
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .score-btn:hover {
            transform: translateY(-2px);
            border-color: var(--accent-green);
        }
        
        .score-btn.run-0 { background-color: rgba(255, 255, 255, 0.05); }
        .score-btn.run-1 { background-color: rgba(0, 200, 83, 0.1); border-color: #00c853; }
        .score-btn.run-2 { background-color: rgba(0, 200, 83, 0.15); border-color: #00c853; }
        .score-btn.run-3 { background-color: rgba(0, 200, 83, 0.2); border-color: #00c853; }
        .score-btn.run-4 { background-color: rgba(255, 193, 7, 0.15); border-color: #ffc107; }
        .score-btn.run-6 { background-color: rgba(255, 87, 34, 0.15); border-color: #ff5722; }
        .score-btn.wicket { background-color: rgba(244, 67, 54, 0.15); border-color: var(--danger); }
        
        .extra-controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
        }
        
        .extra-btn {
            padding: 8px 12px;
            background-color: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .extra-btn:hover {
            border-color: var(--accent-green);
            transform: translateY(-1px);
        }
        
        .extra-btn.wide { border-color: #9c27b0; }
        .extra-btn.noball { border-color: #ff9800; }
        
        /* Player Management */
        .management-container {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 16px;
            margin-top: 16px;
            border: 1px solid var(--border-color);
        }
        
        .management-controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .mgmt-btn {
            padding: 8px 12px;
            background-color: transparent;
            border: 1.5px solid var(--accent-green);
            border-radius: 20px;
            color: var(--accent-green);
            font-weight: 600;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        .mgmt-btn:hover {
            background-color: rgba(0, 255, 139, 0.1);
        }
        
        .mgmt-btn.active {
            background-color: var(--accent-green);
            color: var(--primary-dark);
        }
        
        /* Single Batter Mode Toggle */
        .single-batter-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-color);
        }
        
        .toggle-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border-color);
            transition: var(--transition);
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: var(--text-primary);
            transition: var(--transition);
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--accent-green);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }
        
        /* Tournament Setup (Minimal) */
        .setup-container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .setup-step {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid var(--border-color);
        }
        
        .step-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--accent-green);
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 10px 12px;
            background-color: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent-green);
        }
        
        .sport-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .sport-card {
            background-color: var(--secondary-dark);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }
        
        .sport-card:hover {
            border-color: var(--accent-green);
            transform: translateY(-2px);
        }
        
        .sport-card.selected {
            border-color: var(--accent-green);
            background-color: rgba(0, 255, 139, 0.05);
        }
        
        .sport-icon {
            font-size: 1.8rem;
            margin-bottom: 8px;
            color: var(--accent-green);
        }
        
        .sport-name {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            background-color: var(--accent-green);
            color: var(--primary-dark);
            border: none;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
        }
        
        .btn:hover {
            background-color: var(--accent-green-dark);
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1.5px solid var(--accent-green);
            color: var(--accent-green);
        }
        
        .btn-outline:hover {
            background-color: rgba(0, 255, 139, 0.1);
        }
        
        /* Footer Navigation */
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            background-color: var(--secondary-dark);
            border-top: 1px solid var(--border-color);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: var(--transition);
        }
        
        .nav-item:hover {
            background-color: rgba(0, 255, 139, 0.05);
        }
        
        .nav-item.active {
            color: var(--accent-green);
        }
        
        .nav-icon {
            font-size: 1.2rem;
        }
        
        .nav-label {
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Winner Announcement */
        .winner-container {
            text-align: center;
            padding: 40px 25px;
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            border: 2px solid var(--accent-green);
            max-width: 500px;
            margin: 0 auto;
        }
        
        .trophy-icon {
            font-size: 3rem;
            color: gold;
            margin-bottom: 15px;
        }
        
        .winner-name {
            font-size: 2rem;
            font-weight: 900;
            margin: 15px 0;
            color: var(--accent-green);
            text-transform: uppercase;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: var(--card-dark);
            border-radius: var(--border-radius);
            padding: 20px;
            width: 90%;
            max-width: 400px;
            border: 2px solid var(--accent-green);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-green);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--accent-green);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .team-runs { font-size: 2.5rem; }
            .team-wickets { font-size: 1.5rem; }
            .team-overs { font-size: 1rem; }
            .controls-row { grid-template-columns: repeat(3, 1fr); }
            .sport-grid { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 480px) {
            .controls-row { grid-template-columns: repeat(2, 1fr); }
            .sport-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen">
        <div class="splash-logo">
            <i class="fas fa-trophy"></i>
            <span>ScoreMaster</span>
        </div>
    </div>
    
    <!-- Main App Container -->
    <div class="app-container" style="display: none;">
        <!-- Top Navigation -->
        <div class="top-nav">
            <div class="tournament-info">
                <div class="tournament-name" id="tournament-name-display">Champions League T20</div>
                <div class="match-info" id="match-info-display">Match 1 • Toss in progress</div>
            </div>
            
            <div class="nav-controls">
                <div class="live-indicator">
                    <span class="live-pulse"></span>
                    <span>LIVE</span>
                </div>
                <button class="nav-btn" id="settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Cricket Scoring Section -->
            <section id="scoring-section" class="content-section active">
                <div class="cricket-score-container">
                    <!-- Team Score Display -->
                    <div class="team-score-display">
                        <div class="batting-team-name" id="batting-team-name">Team A</div>
                        <div class="team-score-main">
                            <span class="team-runs" id="team-runs">0</span>
                            <span class="team-wickets" id="team-wickets">/0</span>
                            <span class="team-overs" id="team-overs">(0.0)</span>
                        </div>
                        <div class="target-display" id="target-display"></div>
                    </div>
                    
                    <!-- Batters Display -->
                    <div class="batters-container">
                        <div class="section-title">BATTERS</div>
                        <div class="batter-row" id="striker-row">
                            <div class="batter-info">
                                <div class="strike-indicator"></div>
                                <div class="batter-name" id="striker-name">Player 1</div>
                            </div>
                            <div class="batter-stats">
                                <div class="batter-runs" id="striker-runs">0</div>
                                <div class="batter-details" id="striker-details">0 balls</div>
                            </div>
                        </div>
                        <div class="batter-row" id="non-striker-row">
                            <div class="batter-info">
                                <div class="strike-indicator" style="background-color: transparent;"></div>
                                <div class="batter-name" id="non-striker-name">Player 2</div>
                            </div>
                            <div class="batter-stats">
                                <div class="batter-runs" id="non-striker-runs">0</div>
                                <div class="batter-details" id="non-striker-details">0 balls</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bowler Display -->
                    <div class="bowler-container">
                        <div class="section-title">BOWLER</div>
                        <div class="bowler-row">
                            <div class="bowler-info">
                                <div class="bowler-name" id="bowler-name">Bowler 1</div>
                            </div>
                            <div class="bowler-stats">
                                <div class="bowler-figures" id="bowler-figures">0-0</div>
                                <div class="bowler-economy" id="bowler-economy">0.0</div>
                            </div>
                        </div>
                        <div class="bowler-over-balls" id="over-balls">
                            <!-- Over balls will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Scoring Controls -->
                    <div class="scoring-controls">
                        <div class="controls-row">
                            <button class="score-btn run-0" data-runs="0">0</button>
                            <button class="score-btn run-1" data-runs="1">1</button>
                            <button class="score-btn run-2" data-runs="2">2</button>
                            <button class="score-btn run-3" data-runs="3">3</button>
                            <button class="score-btn run-4" data-runs="4">4</button>
                            <button class="score-btn run-6" data-runs="6">6</button>
                            <button class="score-btn wicket" data-wicket="true">W</button>
                            <button class="score-btn" id="undo-btn">
                                <i class="fas fa-undo"></i>
                            </button>
                        </div>
                        
                        <div class="extra-controls">
                            <button class="extra-btn wide" data-extra="wide">Wide</button>
                            <button class="extra-btn noball" data-extra="noball">No Ball</button>
                            <button class="extra-btn" data-extra="bye">Bye</button>
                            <button class="extra-btn" data-extra="legbye">Leg Bye</button>
                        </div>
                    </div>
                    
                    <!-- Player Management -->
                    <div class="management-container">
                        <div class="section-title">PLAYER MANAGEMENT</div>
                        <div class="management-controls">
                            <button class="mgmt-btn" id="swap-batsmen-btn">
                                <i class="fas fa-random"></i> Swap
                            </button>
                            <button class="mgmt-btn" id="new-batsman-btn">
                                <i class="fas fa-user-plus"></i> New Batsman
                            </button>
                            <button class="mgmt-btn" id="change-bowler-btn">
                                <i class="fas fa-baseball-ball"></i> Change Bowler
                            </button>
                            <button class="mgmt-btn" id="end-innings-btn">
                                <i class="fas fa-flag-checkered"></i> End Innings
                            </button>
                        </div>
                        
                        <!-- Single Batter Mode Toggle -->
                        <div class="single-batter-toggle">
                            <span class="toggle-label">Single Batter Mode</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="single-batter-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Tournament Setup Section -->
            <section id="setup-section" class="content-section">
                <div class="setup-container">
                    <div class="setup-step">
                        <div class="step-title">Create New Tournament</div>
                        
                        <!-- Sport Selection -->
                        <div class="sport-grid" id="sport-selection">
                            <div class="sport-card selected" data-sport="cricket">
                                <div class="sport-icon">
                                    <i class="fas fa-baseball-ball"></i>
                                </div>
                                <div class="sport-name">Cricket</div>
                            </div>
                            <div class="sport-card" data-sport="football">
                                <div class="sport-icon">
                                    <i class="fas fa-futbol"></i>
                                </div>
                                <div class="sport-name">Football</div>
                            </div>
                            <div class="sport-card" data-sport="custom">
                                <div class="sport-icon">
                                    <i class="fas fa-magic"></i>
                                </div>
                                <div class="sport-name">Custom</div>
                            </div>
                        </div>
                        
                        <!-- Tournament Details -->
                        <div class="form-group">
                            <label class="form-label">Tournament Name</label>
                            <input type="text" class="form-control" id="tournament-name" placeholder="Enter tournament name" value="Champions League T20">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Number of Teams</label>
                            <input type="number" class="form-control" id="team-count" min="2" max="16" value="4">
                        </div>
                        
                        <!-- Cricket Specific Settings -->
                        <div id="cricket-settings">
                            <div class="form-group">
                                <label class="form-label">Overs per Innings</label>
                                <input type="number" class="form-control" id="overs-count" min="1" max="100" value="20">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Players per Team</label>
                                <input type="number" class="form-control" id="players-per-team" min="6" max="15" value="11">
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn-outline" id="back-to-scoring">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn" id="start-tournament-btn">
                                Start Tournament <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Winner Announcement Section -->
            <section id="winner-section" class="content-section">
                <div class="winner-container">
                    <div class="trophy-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    
                    <h2>MATCH RESULT</h2>
                    
                    <div class="winner-name" id="match-winner">Team A</div>
                    
                    <p style="font-size: 1rem; margin-bottom: 15px;" id="match-result-summary">Team A won by XX runs</p>
                    
                    <div style="margin-top: 25px;">
                        <button class="btn" id="new-match-btn">
                            <i class="fas fa-plus-circle"></i> New Match
                        </button>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" data-section="scoring-section">
                <i class="fas fa-tachometer-alt nav-icon"></i>
                <span class="nav-label">Scoring</span>
            </div>
            <div class="nav-item" data-section="setup-section">
                <i class="fas fa-plus-circle nav-icon"></i>
                <span class="nav-label">New</span>
            </div>
            <div class="nav-item" data-section="winner-section">
                <i class="fas fa-trophy nav-icon"></i>
                <span class="nav-label">Results</span>
            </div>
        </div>
    </div>
    
    <!-- Player Selection Modal -->
    <div class="modal" id="player-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="player-modal-title">Select Player</h3>
                <button class="close-modal" id="close-player-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="player-list-container">
                <!-- Player list will be populated here -->
            </div>
        </div>
    </div>
    
    <script>
        // Application State
        const appState = {
            sport: 'cricket',
            tournamentName: 'Champions League T20',
            teams: [],
            currentMatch: null,
            singleBatterMode: false,
            isFirstInnings: true
        };
        
        // Cricket Match State
        const cricketState = {
            battingTeam: null,
            bowlingTeam: null,
            totalRuns: 0,
            wickets: 0,
            overs: 0,
            balls: 0,
            target: 0,
            striker: null,
            nonStriker: null,
            bowler: null,
            currentOverBalls: [],
            playerStats: {}
        };
        
        // Initialize the application
        function initApp() {
            // Show main app after splash screen
            setTimeout(() => {
                document.getElementById('splash-screen').style.display = 'none';
                document.querySelector('.app-container').style.display = 'flex';
                setupEventListeners();
                initializeDemoMatch();
            }, 2500);
            
            // Setup navigation
            setupNavigation();
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Scoring buttons
            document.querySelectorAll('.score-btn[data-runs]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const runs = parseInt(this.getAttribute('data-runs'));
                    addRuns(runs);
                });
            });
            
            // Wicket button
            document.querySelector('.score-btn[data-wicket]').addEventListener('click', function() {
                addWicket();
            });
            
            // Extra buttons
            document.querySelectorAll('.extra-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const extra = this.getAttribute('data-extra');
                    addExtra(extra);
                });
            });
            
            // Undo button
            document.getElementById('undo-btn').addEventListener('click', undoLastAction);
            
            // Player management buttons
            document.getElementById('swap-batsmen-btn').addEventListener('click', swapBatsmen);
            document.getElementById('new-batsman-btn').addEventListener('click', openNewBatsmanModal);
            document.getElementById('change-bowler-btn').addEventListener('click', openChangeBowlerModal);
            document.getElementById('end-innings-btn').addEventListener('click', endInnings);
            
            // Single batter mode toggle
            document.getElementById('single-batter-toggle').addEventListener('change', function() {
                appState.singleBatterMode = this.checked;
                if (this.checked) {
                    showNotification('Single Batter Mode enabled - strike changes disabled');
                }
            });
            
            // Tournament setup
            document.getElementById('start-tournament-btn').addEventListener('click', startTournament);
            document.getElementById('back-to-scoring').addEventListener('click', () => {
                showSection('scoring-section');
            });
            
            // Sport selection
            document.querySelectorAll('.sport-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.sport-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    appState.sport = this.getAttribute('data-sport');
                });
            });
            
            // New match button
            document.getElementById('new-match-btn').addEventListener('click', startNewMatch);
            
            // Modal close
            document.getElementById('close-player-modal').addEventListener('click', () => {
                document.getElementById('player-modal').classList.remove('active');
            });
            
            // Settings button
            document.getElementById('settings-btn').addEventListener('click', openSettings);
        }
        
        // Setup navigation
        function setupNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    
                    // Update active state
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Show section
                    showSection(section);
                });
            });
        }
        
        // Show a specific section
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            // Update tournament name display
            if (sectionId === 'scoring-section') {
                updateLiveScoringDisplay();
            }
        }
        
        // Initialize demo match
        function initializeDemoMatch() {
            // Create demo teams
            const team1 = {
                id: 1,
                name: 'Mumbai Indians',
                players: Array.from({length: 11}, (_, i) => ({
                    id: i + 1,
                    name: `Player ${i + 1}`,
                    isBatsman: true,
                    isBowler: i < 6
                }))
            };
            
            const team2 = {
                id: 2,
                name: 'Chennai Super Kings',
                players: Array.from({length: 11}, (_, i) => ({
                    id: i + 12,
                    name: `Player ${i + 12}`,
                    isBatsman: true,
                    isBowler: i < 6
                }))
            };
            
            appState.teams = [team1, team2];
            appState.currentMatch = {
                team1: team1,
                team2: team2,
                tossWinner: team1,
                tossDecision: 'bat'
            };
            
            // Initialize cricket state
            cricketState.battingTeam = team1;
            cricketState.bowlingTeam = team2;
            cricketState.striker = team1.players[0];
            cricketState.nonStriker = team1.players[1];
            cricketState.bowler = team2.players[0];
            
            // Initialize player stats
            [...team1.players, ...team2.players].forEach(player => {
                cricketState.playerStats[player.id] = {
                    runs: 0,
                    balls: 0,
                    fours: 0,
                    sixes: 0,
                    wickets: 0,
                    ballsBowled: 0,
                    runsConceded: 0
                };
            });
            
            // Update displays
            updateLiveScoringDisplay();
            document.getElementById('tournament-name-display').textContent = appState.tournamentName;
            document.getElementById('match-info-display').textContent = `Match 1 • ${team1.name} batting`;
        }
        
        // Update live scoring display
        function updateLiveScoringDisplay() {
            // Update team score
            document.getElementById('batting-team-name').textContent = cricketState.battingTeam.name;
            document.getElementById('team-runs').textContent = cricketState.totalRuns;
            document.getElementById('team-wickets').textContent = `/${cricketState.wickets}`;
            
            const overs = cricketState.overs + (cricketState.balls / 6);
            document.getElementById('team-overs').textContent = `(${overs.toFixed(1)})`;
            
            // Update target display
            if (!appState.isFirstInnings && cricketState.target > 0) {
                const runsNeeded = cricketState.target - cricketState.totalRuns;
                const oversLeft = (20 - overs).toFixed(1);
                document.getElementById('target-display').textContent = 
                    `Need ${runsNeeded} runs in ${oversLeft} overs`;
            } else {
                document.getElementById('target-display').textContent = '';
            }
            
            // Update batter stats
            if (cricketState.striker) {
                const strikerStats = cricketState.playerStats[cricketState.striker.id];
                document.getElementById('striker-name').textContent = cricketState.striker.name;
                document.getElementById('striker-runs').textContent = strikerStats.runs;
                document.getElementById('striker-details').textContent = 
                    `${strikerStats.balls} balls${strikerStats.runs > 0 ? ` • ${strikerStats.fours}x4 ${strikerStats.sixes}x6` : ''}`;
            }
            
            if (cricketState.nonStriker) {
                const nonStrikerStats = cricketState.playerStats[cricketState.nonStriker.id];
                document.getElementById('non-striker-name').textContent = cricketState.nonStriker.name;
                document.getElementById('non-striker-runs').textContent = nonStrikerStats.runs;
                document.getElementById('non-striker-details').textContent = 
                    `${nonStrikerStats.balls} balls${nonStrikerStats.runs > 0 ? ` • ${nonStrikerStats.fours}x4 ${nonStrikerStats.sixes}x6` : ''}`;
            }
            
            // Update bowler stats
            if (cricketState.bowler) {
                const bowlerStats = cricketState.playerStats[cricketState.bowler.id];
                document.getElementById('bowler-name').textContent = cricketState.bowler.name;
                
                const oversBowled = Math.floor(bowlerStats.ballsBowled / 6) + (bowlerStats.ballsBowled % 6) / 10;
                const economy = oversBowled > 0 ? (bowlerStats.runsConceded / oversBowled).toFixed(1) : '0.0';
                
                document.getElementById('bowler-figures').textContent = 
                    `${bowlerStats.wickets}-${bowlerStats.runsConceded}`;
                document.getElementById('bowler-economy').textContent = `${economy}`;
            }
            
            // Update over balls
            updateOverBallsDisplay();
        }
        
        // Update over balls display
        function updateOverBallsDisplay() {
            const overBallsContainer = document.getElementById('over-balls');
            overBallsContainer.innerHTML = '';
            
            // Create filled balls for completed deliveries
            cricketState.currentOverBalls.forEach((ball, index) => {
                const ballElement = document.createElement('div');
                ballElement.className = 'over-ball filled';
                
                if (ball.type === 'wicket') {
                    ballElement.className = 'over-ball wicket';
                    ballElement.textContent = 'W';
                } else if (ball.type === 'run') {
                    if (ball.value === 4) {
                        ballElement.className = 'over-ball four';
                        ballElement.textContent = '4';
                    } else if (ball.value === 6) {
                        ballElement.className = 'over-ball six';
                        ballElement.textContent = '6';
                    } else {
                        ballElement.textContent = ball.value || '•';
                    }
                } else if (ball.type === 'extra') {
                    ballElement.textContent = ball.value === 'wide' ? 'Wd' : 'Nb';
                }
                
                overBallsContainer.appendChild(ballElement);
            });
            
            // Create empty balls for remaining deliveries
            const remainingBalls = 6 - cricketState.currentOverBalls.length;
            for (let i = 0; i < remainingBalls; i++) {
                const ballElement = document.createElement('div');
                ballElement.className = 'over-ball empty';
                ballElement.textContent = (cricketState.currentOverBalls.length + i + 1).toString();
                overBallsContainer.appendChild(ballElement);
            }
        }
        
        // Add runs to the score
        function addRuns(runs) {
            // Add ball to current over
            cricketState.currentOverBalls.push({
                type: 'run',
                value: runs
            });
            
            // Update team total
            cricketState.totalRuns += runs;
            
            // Update striker stats
            if (cricketState.striker) {
                const stats = cricketState.playerStats[cricketState.striker.id];
                stats.runs += runs;
                stats.balls++;
                
                if (runs === 4) stats.fours++;
                if (runs === 6) stats.sixes++;
            }
            
            // Update bowler stats
            if (cricketState.bowler) {
                const stats = cricketState.playerStats[cricketState.bowler.id];
                stats.runsConceded += runs;
                stats.ballsBowled++;
            }
            
            // Update balls count
            cricketState.balls++;
            if (cricketState.balls >= 6) {
                cricketState.overs++;
                cricketState.balls = 0;
                cricketState.currentOverBalls = [];
                
                // Swap batsmen at end of over (unless in single batter mode)
                if (!appState.singleBatterMode) {
                    swapBatsmen();
                }
            }
            
            // Check if odd number of runs (swap batsmen)
            if (runs % 2 !== 0 && !appState.singleBatterMode) {
                swapBatsmen();
            }
            
            // Update display
            updateLiveScoringDisplay();
            
            // Check for innings completion
            checkInningsCompletion();
        }
        
        // Add wicket
        function addWicket() {
            // Add wicket ball to current over
            cricketState.currentOverBalls.push({
                type: 'wicket',
                value: 'W'
            });
            
            // Update team total
            cricketState.wickets++;
            
            // Update bowler stats
            if (cricketState.bowler) {
                const stats = cricketState.playerStats[cricketState.bowler.id];
                stats.wickets++;
                stats.ballsBowled++;
            }
            
            // Mark striker as out
            if (cricketState.striker) {
                // In single batter mode, don't change striker
                if (!appState.singleBatterMode) {
                    // Open new batsman modal after a short delay
                    setTimeout(() => {
                        openNewBatsmanModal();
                    }, 500);
                }
            }
            
            // Update balls count
            cricketState.balls++;
            if (cricketState.balls >= 6) {
                cricketState.overs++;
                cricketState.balls = 0;
                cricketState.currentOverBalls = [];
            }
            
            // Update display
            updateLiveScoringDisplay();
            
            // Check for innings completion
            checkInningsCompletion();
        }
        
        // Add extra
        function addExtra(type) {
            let runs = 1;
            let isLegalBall = false;
            
            switch(type) {
                case 'wide':
                    cricketState.currentOverBalls.push({ type: 'extra', value: 'wide' });
                    break;
                case 'noball':
                    cricketState.currentOverBalls.push({ type: 'extra', value: 'noball' });
                    runs = 2; // No ball + free hit
                    break;
                case 'bye':
                    cricketState.currentOverBalls.push({ type: 'run', value: 1 });
                    isLegalBall = true;
                    break;
                case 'legbye':
                    cricketState.currentOverBalls.push({ type: 'run', value: 1 });
                    isLegalBall = true;
                    break;
            }
            
            // Update team total
            cricketState.totalRuns += runs;
            
            // Update bowler stats (extras count against bowler)
            if (cricketState.bowler) {
                const stats = cricketState.playerStats[cricketState.bowler.id];
                stats.runsConceded += runs;
                if (isLegalBall) stats.ballsBowled++;
            }
            
            // Update balls count for legal deliveries
            if (isLegalBall) {
                cricketState.balls++;
                if (cricketState.balls >= 6) {
                    cricketState.overs++;
                    cricketState.balls = 0;
                    cricketState.currentOverBalls = [];
                    
                    // Swap batsmen at end of over
                    if (!appState.singleBatterMode) {
                        swapBatsmen();
                    }
                }
            }
            
            // Update display
            updateLiveScoringDisplay();
            showNotification(`${type.charAt(0).toUpperCase() + type.slice(1)} - ${runs} run${runs > 1 ? 's' : ''}`);
        }
        
        // Swap batsmen
        function swapBatsmen() {
            if (appState.singleBatterMode) {
                showNotification('Strike changes disabled in Single Batter Mode');
                return;
            }
            
            const temp = cricketState.striker;
            cricketState.striker = cricketState.nonStriker;
            cricketState.nonStriker = temp;
            
            updateLiveScoringDisplay();
            showNotification('Batsmen swapped');
        }
        
        // Open new batsman modal
        function openNewBatsmanModal() {
            if (cricketState.wickets >= 10) {
                showNotification('All out!');
                return;
            }
            
            // Get available batsmen
            const availableBatsmen = cricketState.battingTeam.players.filter(player => {
                const stats = cricketState.playerStats[player.id];
                return player !== cricketState.nonStriker && 
                       player !== cricketState.striker &&
                       (!stats || stats.balls === 0);
            });
            
            if (availableBatsmen.length === 0) {
                showNotification('No more batsmen available');
                return;
            }
            
            openPlayerModal('Select New Batsman', availableBatsmen, (selectedPlayer) => {
                cricketState.striker = selectedPlayer;
                updateLiveScoringDisplay();
                showNotification(`${selectedPlayer.name} comes to the crease`);
            });
        }
        
        // Open change bowler modal
        function openChangeBowlerModal() {
            // Get available bowlers
            const availableBowlers = cricketState.bowlingTeam.players.filter(player => 
                player !== cricketState.bowler && player.isBowler
            );
            
            if (availableBowlers.length === 0) {
                showNotification('No other bowlers available');
                return;
            }
            
            openPlayerModal('Select New Bowler', availableBowlers, (selectedPlayer) => {
                cricketState.bowler = selectedPlayer;
                cricketState.currentOverBalls = [];
                updateLiveScoringDisplay();
                showNotification(`${selectedPlayer.name} comes on to bowl`);
            });
        }
        
        // Open player selection modal
        function openPlayerModal(title, players, callback) {
            document.getElementById('player-modal-title').textContent = title;
            const container = document.getElementById('player-list-container');
            container.innerHTML = '';
            
            players.forEach(player => {
                const stats = cricketState.playerStats[player.id];
                const playerElement = document.createElement('div');
                playerElement.className = 'batter-row';
                playerElement.style.cursor = 'pointer';
                playerElement.style.padding = '12px';
                playerElement.style.marginBottom = '8px';
                playerElement.style.backgroundColor = 'var(--secondary-dark)';
                playerElement.style.borderRadius = '6px';
                playerElement.style.transition = 'var(--transition)';
                
                playerElement.innerHTML = `
                    <div class="batter-info">
                        <div class="batter-name">${player.name}</div>
                    </div>
                    <div class="batter-stats">
                        <div class="batter-details">
                            ${stats ? `${stats.runs} runs, ${stats.balls} balls` : 'Yet to bat'}
                        </div>
                    </div>
                `;
                
                playerElement.addEventListener('click', () => {
                    document.getElementById('player-modal').classList.remove('active');
                    callback(player);
                });
                
                playerElement.addEventListener('mouseenter', () => {
                    playerElement.style.backgroundColor = 'rgba(0, 255, 139, 0.1)';
                });
                
                playerElement.addEventListener('mouseleave', () => {
                    playerElement.style.backgroundColor = 'var(--secondary-dark)';
                });
                
                container.appendChild(playerElement);
            });
            
            document.getElementById('player-modal').classList.add('active');
        }
        
        // End innings
        function endInnings() {
            if (appState.isFirstInnings) {
                // Set target for second innings
                cricketState.target = cricketState.totalRuns + 1;
                
                // Switch innings
                const temp = cricketState.battingTeam;
                cricketState.battingTeam = cricketState.bowlingTeam;
                cricketState.bowlingTeam = temp;
                
                // Reset score for second innings
                cricketState.totalRuns = 0;
                cricketState.wickets = 0;
                cricketState.overs = 0;
                cricketState.balls = 0;
                cricketState.currentOverBalls = [];
                
                // Set new batsmen
                cricketState.striker = cricketState.battingTeam.players[0];
                cricketState.nonStriker = cricketState.battingTeam.players[1];
                
                // Set new bowler
                cricketState.bowler = cricketState.bowlingTeam.players[0];
                
                appState.isFirstInnings = false;
                
                // Update match info
                document.getElementById('match-info-display').textContent = 
                    `Match 1 • ${cricketState.battingTeam.name} batting • Target: ${cricketState.target}`;
                
                showNotification(`First innings complete! ${cricketState.battingTeam.name} needs ${cricketState.target} runs to win.`);
            } else {
                // Match complete - determine winner
                let winner, result;
                
                if (cricketState.totalRuns >= cricketState.target) {
                    winner = cricketState.battingTeam;
                    const wicketsLeft = 10 - cricketState.wickets;
                    result = `${winner.name} won by ${wicketsLeft} wicket${wicketsLeft !== 1 ? 's' : ''}`;
                } else {
                    winner = cricketState.bowlingTeam;
                    const runsDiff = cricketState.target - cricketState.totalRuns - 1;
                    result = `${winner.name} won by ${runsDiff} run${runsDiff !== 1 ? 's' : ''}`;
                }
                
                // Show winner announcement
                document.getElementById('match-winner').textContent = winner.name;
                document.getElementById('match-result-summary').textContent = result;
                showSection('winner-section');
            }
            
            updateLiveScoringDisplay();
        }
        
        // Check innings completion
        function checkInningsCompletion() {
            const totalOvers = 20; // From tournament settings
            
            if (appState.isFirstInnings) {
                // First innings complete if all out or overs completed
                if (cricketState.wickets >= 10 || (cricketState.overs >= totalOvers && cricketState.balls === 0)) {
                    setTimeout(() => {
                        if (confirm('First innings complete. Start second innings?')) {
                            endInnings();
                        }
                    }, 500);
                }
            } else {
                // Second innings complete if target reached, all out, or overs completed
                if (cricketState.totalRuns >= cricketState.target || 
                    cricketState.wickets >= 10 || 
                    (cricketState.overs >= totalOvers && cricketState.balls === 0)) {
                    setTimeout(() => {
                        endInnings();
                    }, 1000);
                }
            }
        }
        
        // Undo last action
        function undoLastAction() {
            // Simple undo - just decrement the last ball
            if (cricketState.currentOverBalls.length > 0) {
                const lastBall = cricketState.currentOverBalls.pop();
                
                // Reverse the effects
                if (lastBall.type === 'run') {
                    cricketState.totalRuns -= lastBall.value;
                    
                    if (cricketState.striker) {
                        const stats = cricketState.playerStats[cricketState.striker.id];
                        stats.runs -= lastBall.value;
                        stats.balls--;
                        
                        if (lastBall.value === 4) stats.fours--;
                        if (lastBall.value === 6) stats.sixes--;
                    }
                    
                    if (cricketState.bowler) {
                        const stats = cricketState.playerStats[cricketState.bowler.id];
                        stats.runsConceded -= lastBall.value;
                        stats.ballsBowled--;
                    }
                    
                    cricketState.balls--;
                    if (cricketState.balls < 0) {
                        cricketState.overs--;
                        cricketState.balls = 5;
                    }
                }
                
                showNotification('Last action undone');
                updateLiveScoringDisplay();
            } else {
                showNotification('Nothing to undo');
            }
        }
        
        // Start tournament
        function startTournament() {
            const tournamentName = document.getElementById('tournament-name').value;
            const teamCount = parseInt(document.getElementById('team-count').value);
            
            if (!tournamentName.trim()) {
                showNotification('Please enter a tournament name');
                return;
            }
            
            if (teamCount < 2 || teamCount > 16) {
                showNotification('Number of teams must be between 2 and 16');
                return;
            }
            
            appState.tournamentName = tournamentName;
            appState.sport = document.querySelector('.sport-card.selected').getAttribute('data-sport');
            
            // Update display
            document.getElementById('tournament-name-display').textContent = tournamentName;
            
            // Generate teams
            generateTeams(teamCount);
            
            // Start first match
            startNewMatch();
            
            // Switch to scoring section
            showSection('scoring-section');
            
            showNotification('Tournament created successfully!');
        }
        
        // Generate teams
        function generateTeams(count) {
            const teamNames = [
                'Mumbai Indians', 'Chennai Super Kings', 'Royal Challengers',
                'Kolkata Knight Riders', 'Delhi Capitals', 'Rajasthan Royals',
                'Sunrisers Hyderabad', 'Punjab Kings', 'Gujarat Titans',
                'Lucknow Super Giants', 'Team Alpha', 'Team Beta',
                'Team Gamma', 'Team Delta', 'Team Echo', 'Team Foxtrot'
            ];
            
            appState.teams = [];
            for (let i = 0; i < count; i++) {
                const team = {
                    id: i + 1,
                    name: teamNames[i] || `Team ${i + 1}`,
                    players: Array.from({length: 11}, (_, j) => ({
                        id: i * 11 + j + 1,
                        name: `Player ${i * 11 + j + 1}`,
                        isBatsman: true,
                        isBowler: j < 6
                    }))
                };
                appState.teams.push(team);
            }
        }
        
        // Start new match
        function startNewMatch() {
            if (appState.teams.length < 2) {
                showNotification('Need at least 2 teams for a match');
                return;
            }
            
            // Select random teams for the match
            const team1Index = Math.floor(Math.random() * appState.teams.length);
            let team2Index;
            do {
                team2Index = Math.floor(Math.random() * appState.teams.length);
            } while (team2Index === team1Index);
            
            const team1 = appState.teams[team1Index];
            const team2 = appState.teams[team2Index];
            
            // Random toss
            const tossWinner = Math.random() > 0.5 ? team1 : team2;
            const tossDecision = Math.random() > 0.5 ? 'bat' : 'bowl';
            
            appState.currentMatch = {
                team1: team1,
                team2: team2,
                tossWinner: tossWinner,
                tossDecision: tossDecision
            };
            
            // Reset cricket state
            cricketState.battingTeam = tossDecision === 'bat' ? tossWinner : (tossWinner === team1 ? team2 : team1);
            cricketState.bowlingTeam = cricketState.battingTeam === team1 ? team2 : team1;
            cricketState.totalRuns = 0;
            cricketState.wickets = 0;
            cricketState.overs = 0;
            cricketState.balls = 0;
            cricketState.target = 0;
            cricketState.currentOverBalls = [];
            appState.isFirstInnings = true;
            
            // Set initial players
            cricketState.striker = cricketState.battingTeam.players[0];
            cricketState.nonStriker = cricketState.battingTeam.players[1];
            cricketState.bowler = cricketState.bowlingTeam.players[0];
            
            // Reset player stats
            cricketState.playerStats = {};
            [...cricketState.battingTeam.players, ...cricketState.bowlingTeam.players].forEach(player => {
                cricketState.playerStats[player.id] = {
                    runs: 0,
                    balls: 0,
                    fours: 0,
                    sixes: 0,
                    wickets: 0,
                    ballsBowled: 0,
                    runsConceded: 0
                };
            });
            
            // Update displays
            updateLiveScoringDisplay();
            document.getElementById('match-info-display').textContent = 
                `Match ${appState.currentMatchIndex || 1} • ${cricketState.battingTeam.name} batting`;
            
            // Switch to scoring section
            showSection('scoring-section');
            
            showNotification(`Match started! ${cricketState.battingTeam.name} is batting first.`);
        }
        
        // Open settings
        function openSettings() {
            // For now, just show a notification
            showNotification('Settings will be available in the next update');
        }
        
        // Show notification
        function showNotification(message, duration = 3000) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.left: '50%';
            notification.style.transform = 'translateX(-50%)';
            notification.style.padding = '12px 20px';
            notification.style.backgroundColor = 'var(--card-dark)';
            notification.style.color = 'var(--text-primary)';
            notification.style.borderRadius = 'var(--border-radius)';
            notification.style.zIndex = '1000';
            notification.style.boxShadow = 'var(--shadow)';
            notification.style.border = '1px solid var(--accent-green)';
            notification.style.fontSize = '0.9rem';
            notification.style.fontWeight = '500';
            notification.style.opacity = '0';
            notification.style.transform = 'translateX(-50%) translateY(-20px)';
            notification.style.transition = 'opacity 0.3s, transform 0.3s';
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(-50%) translateY(0)';
            }, 10);
            
            // Remove after duration
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(-50%) translateY(-20px)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, duration);
        }
        
        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
                            </html>
